<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <header class="mdl-layout__header">
        <div class="mdl-layout-icon">
            <a class="mdl-button mdl-js-button mdl-button--icon" ui-sref="menu">
                <i class="material-icons">{{MDLIcon}}</i>
            </a>
        </div>
        <div class="mdl-layout__header-row">
            <button id="menu-lower-left" class="mdl-button mdl-js-button mdl-button--icon">
                <i class="material-icons">more_vert</i>
            </button>
            <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect mdl-shadow--2dp"
                for="menu-lower-left">
                <li class="mdl-list__item mdl-list__item--two-line mdl-menu__item--full-bleed-divider">
                    <span class="mdl-list__item-primary-content">
                        <span class="material-icons mdl-list__item-avatar"
                              ng-style="{'background-image': 'url(' + me.contact.photo + ')'}"></span>
                        <span>{{me.contact.firstName}} {{me.contact.forthName}}</span>
                        <span class="mdl-list__item-sub-title">{{me.email}}</span>
                    </span>
                </li>
                <li class="mdl-menu__item mdl-list__item" ng-click="goToHelp()">
                    <span class="mdl-list__item-primary-content">
                        <i class="material-icons mdl-list__item-icon">help</i>
                        <span>المساعدة</span>
                    </span>
                </li>
                <li class="mdl-menu__item mdl-list__item" ng-click="goToAbout()">
                    <span class="mdl-list__item-primary-content">
                        <i class="material-icons mdl-list__item-icon">info</i>
                        <span>عن البرنامج</span>
                    </span>
                </li>
                <li class="mdl-menu__item mdl-list__item mdl-menu__item--full-bleed-divider" ng-click="goToProfile()">
                    <span class="mdl-list__item-primary-content">
                        <i class="material-icons mdl-list__item-icon">account_box</i>
                        <span>الملف الشخصي</span>
                    </span>
                </li>
                <li class="mdl-menu__item mdl-list__item" ng-click="logout()">
                    <span class="mdl-list__item-primary-content">
                        <i class="material-icons mdl-list__item-icon">exit_to_app</i>
                        <span>تسجيل الخروج</span>
                    </span>
                </li>
            </ul>
            <div class="mdl-layout-spacer"></div>
            <span class="mdl-layout__title">{{pageTitle}}</span>
        </div>
    </header>

    <main class="mdl-layout__content">

        <div dir="rtl" style="margin-top: 10px">

            <div class="row">

                <div class="col-md-3">
                    <div class="widget widget-default widget-item-icon">
                        <div class="widget-item-left">
                            <span class="fa fa-delicious"></span>
                        </div>
                        <div class="widget-data">
                            <div class="widget-int num-count">
                                <div class="digit counter"
                                     value="masterCounter"
                                     to="masterCounterTarget"
                                     duration="2000"
                                     effect="easeInSine">
                                    {{masterCounter | number:0}}
                                </div>
                            </div>
                            <div class="widget-title">تخصص</div>
                            <div class="widget-subtitle">---</div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="widget widget-default widget-item-icon">
                        <div class="widget-item-left">
                            <span class="fa fa-newspaper-o"></span>
                        </div>
                        <div class="widget-data">
                            <div class="widget-int num-count">
                                <div class="digit counter"
                                     value="offerCounter"
                                     to="offerCounterTarget"
                                     duration="2000"
                                     effect="easeInSine">
                                    {{offerCounter | number:0}}
                                </div>
                            </div>
                            <div class="widget-title">عرض</div>
                            <div class="widget-subtitle">---</div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="widget widget-default widget-item-icon">
                        <div class="widget-item-left">
                            <span class="fa fa-address-card-o"></span>
                        </div>
                        <div class="widget-data">
                            <div class="widget-int num-count">
                                <div class="digit counter"
                                     value="accountCounter"
                                     to="accountCounterTarget"
                                     duration="2000"
                                     effect="easeInSine">
                                    {{accountCounter | number:0}}
                                </div>
                            </div>
                            <div class="widget-title">تسجيل</div>
                            <div class="widget-subtitle">---</div>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="widget widget-default widget-item-icon">
                        <div class="widget-item-left">
                            <span class="fa fa-money"></span>
                        </div>
                        <div class="widget-data">
                            <div class="widget-int num-count">
                                <div class="digit counter"
                                     value="courseCounter"
                                     to="courseCounterTarget"
                                     duration="2000"
                                     effect="easeInSine">
                                    {{courseCounter | number:0}}
                                </div>
                            </div>
                            <div class="widget-title">دورة</div>
                            <div class="widget-subtitle">---</div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row">

                <div class="col-md-6">

                    <div class="col-md-12"
                         ng-init="showAccountAverageByBranchBody='true';hideAccountAverageByBranchWidget='false'"
                         ng-hide="hideAccountAverageByBranchWidget=='true'">
                        <div class="panel panel-danger">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showAccountAverageByBranchBody=='true' ? showAccountAverageByBranchBody='false' : showAccountAverageByBranchBody='true'">
                                                    <span>{{showAccountAverageByBranchBody=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showAccountAverageByBranchBody=='false', 'fa-angle-up':showAccountAverageByBranchBody=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideAccountAverageByBranchWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href="">
                                                    <span>تحت التطوير</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_ACCOUNT_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openAccountCreateModel()">
                                                    <span>اضافة تسجيل جديد</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchBranchesList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>الاقبال على الفروع لآخر خمس شهور</h3>
                                    <span>رسم بياني توضيحي يبين نسبة الاقبال بناءاً على عدد التسجيلات</span>
                                </div>
                            </div>
                            <div class="panel-body" ng-show="showAccountAverageByBranchBody=='true'">
                                <div class="form-group text-right col-md-6">
                                    <label for="chart" class="control-label">نوع الرسم البياني</label>
                                    <select id="chart"
                                            placeholder-text-single="'اختر النوع'"
                                            disable-search="true"
                                            class="form-control text-right"
                                            chosen=""
                                            ng-model="buffer.chart"
                                            focus-index="2"
                                            ng-options='chart.name for chart in charts track by chart.id'>
                                    </select>
                                </div>
                                <div class="form-group text-right col-md-6">
                                    <label for="branch" class="control-label">[رقم الفرع] اسم الفرع</label>
                                    <select id="branch"
                                            data-placeholder="ابحث عن الفرع"
                                            no-results-text="'لا توجد فروع توافق بحثك'"
                                            placeholder-text-single="'اختر الفرع'"
                                            class="form-control text-right"
                                            chosen=""
                                            ng-model="buffer.branch"
                                            ng-change="fetchAccountsCountByBranch()"
                                            focus-index="1"
                                            required="required"
                                            disable-validation-message=""
                                            ng-options="(' [ ' + branch.code + ' ] ' + ' ' +  branch.name) for branch in branches | orderBy:'code' track by branch.id">
                                    </select>
                                </div>
                                <div class="form-group text-right col-md-12" ng-show="buffer.branch">
                                    <canvas class="chart chart-bar" chart-data="data1"
                                            ng-show="buffer.chart.type=='CHART_BAR'"
                                            chart-labels="labels1"
                                            chart-series="series1">
                                    </canvas>
                                    <canvas class="chart chart-line"
                                            chart-data="data1"
                                            ng-show="buffer.chart.type=='CHAR_LINE'"
                                            chart-labels="labels1"
                                            chart-series="series1">
                                    </canvas>
                                    <canvas class="chart-horizontal-bar"
                                            chart-data="data1"
                                            ng-show="buffer.chart.type=='CHART_HORIZONTAL_BAR'"
                                            chart-labels="labels1"
                                            chart-series="series1">
                                    </canvas>
                                    <canvas class="chart chart-pie"
                                            chart-data="data1[0]"
                                            ng-show="buffer.chart.type=='CHART_PIE'"
                                            chart-labels="labels1">
                                    </canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-green">
                            <div class="panel-heading">
                                <span class="fa fa-line-chart fa-2x"></span>
                                <span>الاقبال على التخصصات لآخر خمس شهور</span>
                            </div>
                            <div class="panel-body">
                                <div class="form-group text-right col-md-12">
                                    <label for="master1" class="control-label">التخصص</label>
                                    <select id="master1"
                                            data-placeholder="ابحث عن التخصص"
                                            no-results-text="'لا توجد تخصصات توافق بحثك'"
                                            placeholder-text-single="'اختر التخصص'"
                                            class="form-control text-right"
                                            chosen=""
                                            ng-model="buffer.master"
                                            ng-change="fetchAccountsCountByMaster()"
                                            focus-index="1"
                                            ng-options="(' [ ' + master.code + ' ] ' + ' ' + master.name) group by master.branch.name for master in masters | orderBy:'code' track by master.id">
                                    </select>
                                </div>
                                <div class="form-group text-right col-md-12" ng-show="buffer.master">
                                    <canvas id="line2" class="chart chart-line" chart-data="data2"
                                            chart-labels="labels2" chart-series="series2" chart-options="options2"
                                            chart-dataset-override="datasetOverride2">
                                    </canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-yellow">
                            <div class="panel-heading">
                                <span class="fa fa-line-chart fa-2x"></span>
                                <span>الاقبال على الدورات لآخر خمس شهور</span>
                            </div>
                            <div class="panel-body">

                                <div class="form-group text-right col-md-12">
                                    <label for="course" class="control-label">[رقم التخصص][اسم التخصص] [رقم الدورة]</label>
                                    <select id="course"
                                            data-placeholder="ابحث عن رقم الدورة المتاحة"
                                            no-results-text="'لا توجد دورات توافق بحثك'"
                                            placeholder-text-single="'اختر رقم الدورة'"
                                            class="form-control text-right"
                                            chosen=""
                                            ng-model="buffer.course"
                                            ng-change="fetchAccountsCountByCourse()"
                                            ng-options="(' [ ' + course.master.code + ' ] ' + ' ' + ' [ ' + course.master.name + ' ] ' + ' ' + ' [ ' + course.code + ' ] ') group by course.master.branch.name for course in courses | orderBy:'master' track by course.id">
                                    </select>
                                </div>

                                <div class="form-group text-right col-md-12" ng-show="buffer.course">
                                    <canvas id="line3" class="chart chart-line" chart-data="data3"
                                            chart-labels="labels3" chart-series="series3" chart-options="options3"
                                            chart-dataset-override="datasetOverride3">
                                    </canvas>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <span class="fa fa-cog fa-spin fa-2x fa-fw"></span>
                                <span>متوسط عائدات الفروع(تحت التطوير) - مدراء الشركات والافرع فقط</span>
                            </div>
                            <div class="panel-body">

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-success">
                            <div class="panel-heading">
                                <span class="fa fa-cog fa-spin fa-2x fa-fw"></span>
                                <span>متوسط عائدات التخصصات(تحت التطوير) - مدراء الشركات والافرع فقط</span>
                            </div>
                            <div class="panel-body">

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-warning">
                            <div class="panel-heading">
                                <span class="fa fa-cog fa-spin fa-2x fa-fw"></span>
                                <span>متوسط عائدات الدورات(تحت التطوير) - مدراء الشركات والافرع فقط</span>
                            </div>
                            <div class="panel-body">

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-danger">
                            <div class="panel-heading">
                                <span class="fa fa-cog fa-spin fa-2x fa-fw"></span>
                                <span> المهام(تحت التطوير) - مدراء الشركات والفروع والاقسام فقط</span>
                            </div>
                            <div class="panel-body">

                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="panel panel-green">
                            <div class="panel-heading">
                                <span class="fa fa-cog fa-spin fa-2x fa-fw"></span>
                                <span>المشاريع الفعالة(تحت التطوير) - جميع الافراد</span>
                            </div>
                            <div class="panel-body">

                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-md-6">

                    <div class="col-md-12"
                         ng-init="showBranchInfoTable='true';hideBranchWidget='false'"
                         ng-hide="hideBranchWidget=='true'">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showBranchInfoTable=='true' ? showBranchInfoTable='false' : showBranchInfoTable='true'">
                                                    <span>{{showBranchInfoTable=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showBranchInfoTable=='false', 'fa-angle-up':showBranchInfoTable=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideBranchWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByBranchModel()">
                                                    <span>عروض كل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByBranchModel()">
                                                    <span>الطلاب المسجلين لكل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportUnRegisteredStudentDetailsByBranchModel()">
                                                    <span>الطلاب الغير مسجلين لكل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportPaymentByBranchModel()">
                                                    <span>السندات لكل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportBranchDetailsModel()">
                                                    <span>بيانات الفروع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_BRANCH_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openBranchCreateModel()">
                                                    <span>اضافة فرع جديد</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchBranchesList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>الفروع</h3>
                                    <span>عرض مختصر للفروع وبياناتها</span>
                                </div>
                            </div>
                            <div class="panel-body panel-body-table" ng-show="showBranchInfoTable=='true'">
                                <div class="table-responsive">
                                    <table st-table="displayedCollection1" st-safe-src="branches"
                                           class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th st-sort="code" st-sort-default="true" class="text-right fit">
                                                <span> رقم الفرع</span>
                                            </th>
                                            <th st-sort="name" class="text-right">
                                                <span>اسم الفرع</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-right" ng-repeat="branch in displayedCollection1">
                                            <td class="fit">{{branch.code}}</td>
                                            <td>{{branch.name}} <span class="label label-danger">{{branch.companyfx.name}}</span>
                                            </td>
                                        </tr>
                                        <tr class="blank_row"
                                            style="height: 10px !important; background-color: #FFFFFF;"
                                            ng-show="displayedCollection1.length == 0">
                                            <td colspan="2">لا توجد بيانات</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td colspan="2" class="text-right">
                                                <div st-pagination="" st-items-by-page="5"
                                                     st-displayed-pages="10"></div>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12"
                         ng-init="showMasterInfoTable='true';hideMasterWidget='false'"
                         ng-hide="hideMasterWidget=='true'">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showMasterInfoTable=='true' ? showMasterInfoTable='false' : showMasterInfoTable='true'">
                                                    <span>{{showMasterInfoTable=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showMasterInfoTable=='false', 'fa-angle-up':showMasterInfoTable=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideMasterWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByMasterModel()">
                                                    <span>عروض كل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportPaymentByMasterModel()">
                                                    <span>سندات كل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportChartOffersCountAverageByMasterModel()">
                                                    <span>متوسط عدد العروض بين التخصصات</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportChartPaymentPriceAverageByMasterModel()">
                                                    <span>متوسط دخل السندات بين التخصصات</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByMasterModel()">
                                                    <span>الطلاب المسجلين لكل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportUnRegisteredStudentDetailsByMasterModel()">
                                                    <span>الطلاب الغير مسجلين لكل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_MASTER_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openMasterCreateModel()">
                                                    <span>اضافة تخصص جديد</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchMastersList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>التخصصات</h3>
                                    <span>عرض التخصصات وربطها بالفروع</span>
                                </div>
                            </div>
                            <div class="panel-body panel-body-table" ng-show="showMasterInfoTable=='true'">
                                <div class="table-responsive">
                                    <table st-table="displayedCollection2" st-safe-src="masters"
                                           class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th st-sort="code" st-sort-default="true" class="text-right fit">
                                                <span> رقم التخصص</span>
                                            </th>
                                            <th st-sort="name" class="text-right">
                                                <span>اسم التخصص</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-right" ng-repeat="master in displayedCollection2">
                                            <td class="fit">{{master.code}}</td>
                                            <td>{{master.name}} <span
                                                    class="label label-success">{{master.branch.name}}</span></td>
                                        </tr>
                                        <tr class="blank_row"
                                            style="height: 10px !important; background-color: #FFFFFF;"
                                            ng-show="displayedCollection2.length == 0">
                                            <td colspan="2">لا توجد بيانات</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td colspan="2" class="text-right">
                                                <div st-pagination="" st-items-by-page="5"
                                                     st-displayed-pages="10"></div>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12"
                         ng-init="showCourseInfoTable='true';hideCourseWidget='false'"
                         ng-hide="hideCourseWidget=='true'">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showCourseInfoTable=='true' ? showCourseInfoTable='false' : showCourseInfoTable='true'">
                                                    <span>{{showCourseInfoTable=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showCourseInfoTable=='false', 'fa-angle-up':showCourseInfoTable=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideCourseWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportPaymentByCourseModel()">
                                                    <span>سندات كل دورة</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportChartPaymentPriceAverageByCourseModel()">
                                                    <span>متوسط دخل السندات بين الدورات</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByCourseModel()">
                                                    <span>الطلاب المسجلين لكل دورة</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_COURSE_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openCourseCreateModel()">
                                                    <span>اضافة دورة جديدة</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchCoursesList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>الدورات</h3>
                                    <span>عرض مختصر لتوضيح بيانات الدورات</span>
                                </div>
                            </div>
                            <div class="panel-body panel-body-table" ng-show="showCourseInfoTable=='true'">
                                <div class="table-responsive">
                                    <table st-table="displayedCollection3"
                                           st-safe-src="courses"
                                           class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th st-sort="code" st-sort-default="true" class="text-right fit">
                                                <span> رقم الدورة</span>
                                            </th>
                                            <th st-sort="master.name" class="text-right">
                                                <span>اسم التخصص</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-right" ng-repeat="course in displayedCollection3">
                                            <td class="fit">{{course.code}}</td>
                                            <td>{{course.master.name}} <span class="label label-success">{{course.master.branch.name}}</span>
                                            </td>
                                        </tr>
                                        <tr class="blank_row"
                                            style="height: 10px !important; background-color: #FFFFFF;"
                                            ng-show="displayedCollection3.length == 0">
                                            <td colspan="2">لا توجد بيانات</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td colspan="2" class="text-right">
                                                <div st-pagination="" st-items-by-page="5"
                                                     st-displayed-pages="10"></div>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12"
                         ng-init="showOfferInfoTable='true';hideOfferWidget='false'"
                         ng-hide="hideOfferWidget=='true'">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showOfferInfoTable=='true' ? showOfferInfoTable='false' : showOfferInfoTable='true'">
                                                    <span>{{showOfferInfoTable=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showOfferInfoTable=='false', 'fa-angle-up':showOfferInfoTable=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideOfferWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByBranchModel()"><span>عروض كل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByMasterModel()"><span>عروض كل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByPersonModel()"><span>عروض كل مستخدم</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportOfferByIdModel()"><span>عروض الاسعار</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportUnRegisteredStudentDetailsByBranchModel()"><span>الطلاب الغير مسجلين لكل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_OFFER_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>اضافة عرض جديدة</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="تصفية"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-filter"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>عروض اليوم</span>
                                                    <span class="fa fa-filter"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>عروض أمس</span>
                                                    <span class="fa fa-filter"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>عروض الاسبوع</span>
                                                    <span class="fa fa-filter"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>عروض الشهر</span>
                                                    <span class="fa fa-filter"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ModalProvider.openOfferCreateModel()">
                                                    <span>عروض السنة</span>
                                                    <span class="fa fa-filter"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchOffersList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>العروض</h3>
                                    <span>عرض مختصر لبيانات العروض المتاحة لكل مستخدم</span>
                                </div>
                            </div>
                            <div class="panel-body panel-body-table" ng-show="showOfferInfoTable=='true'">
                                <div class="table-responsive">
                                    <table st-table="displayedCollection4"
                                           st-safe-src="offers"
                                           class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th st-sort="code" st-sort-default="true" class="text-right fit">
                                                <span> رقم العرض</span>
                                            </th>
                                            <th st-sort="customerName" class="text-right">
                                                <span>اسم العميل</span>
                                            </th>
                                            <th st-sort="customerMobile" class="text-right">
                                                <span>رقم الجوال</span>
                                            </th>
                                            <th st-sort="master.name" class="text-right">
                                                <span>التخصص</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-right" ng-repeat="offer in displayedCollection4">
                                            <td class="fit">{{offer.code}}</td>
                                            <td>{{offer.customerName}}</td>
                                            <td>{{offer.customerMobile}}</td>
                                            <td>{{offer.master.name}} <span
                                                    class="label label-success">{{offer.master.branch.name}}</span></td>
                                        </tr>
                                        <tr class="blank_row"
                                            style="height: 10px !important; background-color: #FFFFFF;"
                                            ng-show="displayedCollection4.length == 0">
                                            <td colspan="4">لا توجد بيانات</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td colspan="4" class="text-right">
                                                <div st-pagination="" st-items-by-page="5"
                                                     st-displayed-pages="10"></div>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12"
                         ng-init="showAccountInfoTable='true';hideAccountWidget='false'"
                         ng-hide="hideAccountWidget=='true'">
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <ul class="panel-controls pull-left" style="margin-top: 2px;">
                                    <li class="dropdown">
                                        <a uib-tooltip="تخصيص"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-cog fa-spin fa-fw"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="showAccountInfoTable=='true' ? showAccountInfoTable='false' : showAccountInfoTable='true'">
                                                    <span>{{showAccountInfoTable=='true' ? 'اخفاء' : 'اظهار'}}</span>
                                                    <span class="fa"
                                                          ng-class="{'fa-angle-down': showAccountInfoTable=='false', 'fa-angle-up':showAccountInfoTable=='true'}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="hideAccountWidget='true'">
                                                    <span>حذف</span>
                                                    <span class="fa fa-times"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a uib-tooltip="التقارير"
                                           href=""
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-print"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByBranchModel()">
                                                    <span>الطلاب المسجلين لكل فرع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByMasterModel()">
                                                    <span>الطلاب المسجلين لكل تخصص</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportAccountByCourseModel()">
                                                    <span>الطلاب المسجلين لكل دورة</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportBranchDetailsModel()">
                                                    <span>بيانات الفروع</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportMasterDetailsModel()">
                                                    <span>بيانات التخصصات</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href=""
                                                   ng-click="ReportModelProvider.openReportCourseDetailsModel()">
                                                    <span>بيانات الدورات</span>
                                                    <i class="fa fa-file-pdf-o fa-lg"></i>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href=""
                                           uib-tooltip="العمليات"
                                           class="dropdown-toggle"
                                           data-toggle="dropdown">
                                            <span class="fa fa-database"></span>
                                        </a>
                                        <ul class="dropdown-menu">
                                            <li ng-if="contains(authorities, ['ROLE_ACCOUNT_CREATE'])">
                                                <a href=""
                                                   ng-click="ModalProvider.openAccountCreateModel()">
                                                    <span>اضافة تسجيل جديد</span>
                                                    <span class="fa fa-plus-square"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="" ng-click="fetchAccountsList()" uib-tooltip="تحديث">
                                            <span class="fa fa-refresh fa-spin fa-fw"></span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="panel-title-box pull-right">
                                    <h3>تسجيل الطلاب</h3>
                                    <span>عرض مختصر لحسابات الطلاب المسجلين</span>
                                </div>
                            </div>
                            <div class="panel-body panel-body-table" ng-show="showAccountInfoTable=='true'">
                                <div class="table-responsive">
                                    <table st-table="displayedCollection5" st-safe-src="accounts"
                                           class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th class="text-right fit">
                                                <span> رقم الطالب</span>
                                            </th>
                                            <th class="text-right">
                                                <span>اسم الطالب</span>
                                            </th>
                                            <th class="text-right">
                                                <span>رقم الجوال</span>
                                            </th>
                                            <th class="text-right">
                                                <span>رقم البطاقة</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr class="text-right" ng-repeat="account in displayedCollection5">
                                            <td class="fit">
                                                {{account.code}}
                                                -
                                                {{account.course.code}}
                                                -
                                                {{account.course.master.code}}
                                                -
                                                {{account.course.master.branch.code}}
                                                -
                                                {{account.registerDate | date:'yy'}}
                                            </td>
                                            <td>
                                                {{account.student.contact.firstName}}
                                                {{account.student.contact.secondName}}
                                                {{account.student.contact.thirdName}}
                                                {{account.student.contact.forthName}}
                                                <span class="label label-warning">{{account.course.master.branch.name}}</span>
                                            </td>
                                            <td>{{account.student.contact.mobile}}</td>
                                            <td>{{account.student.contact.identityNumber}}</td>
                                        </tr>
                                        <tr class="blank_row"
                                            style="height: 10px !important; background-color: #FFFFFF;"
                                            ng-show="displayedCollection5.length == 0">
                                            <td colspan="4">لا توجد بيانات</td>
                                        </tr>
                                        </tbody>
                                        <tfoot>
                                        <tr>
                                            <td colspan="4" class="text-right">
                                                <div st-pagination="" st-items-by-page="5"
                                                     st-displayed-pages="10"></div>
                                            </td>
                                        </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <!-- DIRECT CHAT PRIMARY -->
                    <div class="box box-primary direct-chat direct-chat-primary">
                        <div class="box-header with-border">
                            <h3 class="box-title">المحادثة الجماعية - تواصل معنا</h3>
                            <div class="box-tools pull-left">
                                <button type="button"
                                        class="btn btn-box-tool"
                                        ng-click="buffer.style==1 ? buffer.style=2 : buffer.style=1"
                                        data-toggle="tooltip"
                                        title="المستخدمون"
                                        data-widget="chat-pane-toggle">
                                    <i class="fa fa-comments"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">
                            <!-- Conversations are loaded here -->
                            <div class="direct-chat-messages" scroll-glue>
                                <div class="direct-chat-msg"
                                     ng-class="{'right': chat.sender.person.id==person.id}"
                                     ng-repeat="chat in chats | filter:{type: 'chat'}">
                                    <div class="direct-chat-info clearfix">
                            <span class="direct-chat-name"
                                  ng-class="{'pull-right': chat.sender.person.id==person.id, 'pull-left': chat.sender.person.id!=person.id}">{{chat.sender.contact.firstName}} {{chat.sender.contact.forthName}}</span>
                                        <span class="direct-chat-timestamp"
                                              ng-class="{'pull-left': chat.sender.person.id==person.id, 'pull-right': chat.sender.person.id!=person.id}">{{chat.date | date:'yyyy-MM-dd h:m a'}}</span>
                                    </div>
                                    <img class="direct-chat-img" src="/ui/layout/joli/assets/images/users/no-image.jpg"
                                         alt="Message User Image">
                                    <div class="direct-chat-text">
                                        {{chat.message}}
                                    </div>
                                </div>
                            </div>

                            <!-- Contacts are loaded here -->
                            <div class="direct-chat-contacts"
                                 ng-style="buffer.style==1 ? {'transform': 'translate(0%, 0)'} : {'transform': 'translate(101%, 0)'}">
                                <ul class="contacts-list list-unstyled"
                                    ng-repeat="person in persons track by person.id">
                                    <li>
                                        <a href="" class="nounderline">
                                            <img class="contacts-list-img" ng-src="{{person.profilePicture}}"
                                                 src="/ui/layout/joli/assets/images/users/no-image.jpg">
                                            <div class="contacts-list-info">
                                    <span class="contacts-list-name">
                                        <p><span class="label"
                                                 ng-class="{'label-success':person.active, 'label-primary':!person.active}">{{person.active? 'متاح' : 'غير متاح'}}</span>  {{person.contact.firstName}} {{person.contact.forthName}}</p>
                                        <small class="contacts-list-date pull-left">{{person.lastUpdate | date:'yyyy-MM-dd h:m a'}}</small>
                                    </span>
                                                <span class="contacts-list-msg">آخر رسالة</span>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /.box-body -->
                        <div class="box-footer">
                            <form ng-submit="sendChat();chat.message=''">
                                <div class="form-group">
                                    <div dir="ltr" class="input-group">
                                        <input dir="rtl" type="text"
                                               placeholder="اكتب رسالتك..."
                                               ng-model="chat.message"
                                               class="form-control">
                                        <span class="input-group-btn">
                                <button type="submit" class="btn btn-primary btn-flat">ارسال</button>
                            </span>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- /.box-footer-->
                    </div>
                    <!--/.direct-chat -->
                </div>
            </div>

        </div>

    </main>

</div>
